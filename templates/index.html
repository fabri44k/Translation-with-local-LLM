<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Translation with LLM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

</head>

<body>

    <div class="container mt-5">

        <h1 class="text-center mb-5">Translation with LLM</h1>

        <!-- Dark/Light mode toggle button -->
        <div class="position-absolute top-0 end-0 m-4">
            <button id="toggleThemeBtn" class="btn btn-outline-secondary" onclick="toggleTheme()">
                ðŸŒ™
            </button>
        </div>

        <div class="row mb-4">
            <!-- la lista degli llm deve essere restituita da py!-->
            <div class="col-md-4 d-flex flex-column">
                <label for="llm" class="form-label">Select LLM</label>
                <select id="llm" class="form-select mb-3">

                </select>

                <label for="targetLang" class="form-label">Output Language</label>
                <select id="targetLang" class="form-select">
                    <option value="it">Italian</option>
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="de">German</option>
                    <option value="es">Spanish</option>
                    <option value="pt">Portuguese</option>
                    <option value="ru">Russian</option>
                    <option value="zh">Chinese</option>
                    <option value="ja">Japanese</option>
                    <option value="ko">Korean</option>
                </select>
            </div>


            <div class="col-md-8">
                <label for="textInput" class="form-label"></label>
                <button class="btn btn-outline-primary" style="margin-left: 15px; margin-bottom: 15px;"
                    onclick="clearTextInput()">Clear</button>
                <button class="btn btn-outline-primary" style="margin-left: 10px; margin-bottom: 15px; margin-right: 10px"
                    onclick="loadFile()">Load from File</button>
                <input type="file" id="fileInput" accept=".md,.txt">
                
                <textarea id="textInput" class="form-control" placeholder="Insert text..."></textarea>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col d-flex justify-content-end gap-2">
                <button class="btn btn-primary" onclick="sendTextForTranslation()">Translate</button>
            </div>
        </div>

        <div id="loadingSpinner" class="text-center my-3" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div>Translating...</div>
        </div>
        <div class="row">
            <div class="col-12">
                <label for="modelStream" class="form-label">Output</label>
                <button class="btn btn-outline-primary" style="margin-left: 15px; margin-bottom: 15px;"
                    onclick="clearTextOutput()">Clear</button>
                <div id="modelStream" class="markdown-output" style="margin-top: 15px;"></div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col d-flex justify-content-end gap-2">
                <button class="btn btn-outline-primary" onclick="copyOutput()">Copy</button>
                <button class="btn btn-outline-primary" onclick="downloadOutput()">Download</button>
            </div>
        </div>
    </div>





    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>
    <script src="../static/js/index.js"></script>
</body>

</html>